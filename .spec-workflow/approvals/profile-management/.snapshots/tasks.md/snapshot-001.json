{
  "id": "snapshot_1767022116791_7iq4fdync",
  "approvalId": "approval_1767022116751_rrlewu0pk",
  "approvalTitle": "Profile Management - Tasks",
  "version": 1,
  "timestamp": "2025-12-29T15:28:36.791Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# Tasks Document\n\n## Phase 1: Backend Profile Management (Rust)\n\n- [ ] 1. Create profile manager in keyrx_daemon/src/profile_manager.rs\n  - CRUD operations for profiles\n  - Load/save .krx files\n  - _Prompt: Role: Rust Developer | Task: Create profile manager with CRUD operations | Restrictions: File ≤500 lines, store profiles in ~/.config/keyrx/profiles/, error handling | Success: ✅ Profiles load/save_\n\n- [ ] 2. Add profile REST API endpoints in keyrx_daemon/src/web/api.rs\n  - GET /api/profiles, POST /api/profiles, PUT /api/profiles/:id, DELETE /api/profiles/:id, POST /api/profiles/:id/activate\n  - _Prompt: Role: Rust API Developer | Task: Add profile REST endpoints | Restrictions: Add to existing api.rs, validate inputs, return JSON | Success: ✅ All endpoints work_\n\n- [ ] 3. Add profile CLI commands in keyrx_daemon/src/cli.rs\n  - `keyrx profile list`, `keyrx profile activate <name>`, `keyrx profile save <name>`\n  - _Prompt: Role: CLI Developer | Task: Add profile CLI commands | Success: ✅ CLI commands work_\n\n## Phase 2: React UI Components\n\n- [ ] 4. Create ProfilesPage component in keyrx_ui/src/pages/ProfilesPage.tsx\n  - List all profiles with metadata\n  - Create/activate/delete actions\n  - _Prompt: Role: React Developer | Task: Create profiles management page | Restrictions: File ≤400 lines, call REST API, show loading states | Success: ✅ Profiles display_\n\n- [ ] 5. Create ProfileCard component in keyrx_ui/src/components/ProfileCard.tsx\n  - Display profile with action buttons\n  - Hover to show actions\n  - _Prompt: Role: React UI Developer | Task: Create profile card component | Restrictions: File ≤200 lines, actions: activate/rename/duplicate/delete | Success: ✅ Card renders_\n\n- [ ] 6. Create ProfileDialog component in keyrx_ui/src/components/ProfileDialog.tsx\n  - Modal for create/rename profile\n  - Name and description inputs\n  - _Prompt: Role: React Form Developer | Task: Create profile dialog | Restrictions: File ≤200 lines, validate name (no special chars), require name | Success: ✅ Dialog works_\n\n## Phase 3: Profile Operations\n\n- [ ] 7. Implement profile activation\n  - Call POST /api/profiles/:id/activate\n  - Show notification on success\n  - _Prompt: Role: Integration Developer | Task: Wire up profile activation | Success: ✅ Activation switches daemon config_\n\n- [ ] 8. Implement profile export/import\n  - Export as .zip with .krx + metadata.json\n  - Import from .zip\n  - _Prompt: Role: File I/O Developer | Task: Add export/import functionality | Success: ✅ Export/import works_\n\n## Phase 4: Testing & Documentation\n\n- [ ] 9. Write unit tests for profile manager (Rust)\n  - Test CRUD operations\n  - _Prompt: Role: Rust Test Engineer | Task: Test profile manager | Success: ✅ All tests pass_\n\n- [ ] 10. Write component tests for ProfilesPage\n  - Test profile list, actions\n  - _Prompt: Role: React Test Engineer | Task: Test profiles UI | Success: ✅ Tests pass_\n\n- [ ] 11. Write E2E test for profile workflow\n  - Create → activate → rename → delete\n  - _Prompt: Role: QA Automation Engineer | Task: Test full profile workflow | Success: ✅ E2E test passes_\n\n- [ ] 12. Create documentation in docs/profile-management.md\n  - How to use profiles\n  - _Prompt: Role: Technical Writer | Task: Document profile management | Success: ✅ Docs complete_\n\n- [ ] 13. Log implementation artifacts\n  - Use spec-workflow log-implementation tool\n  - _Prompt: Role: Documentation Engineer | Task: Log artifacts | Success: ✅ Artifacts logged_\n",
  "fileStats": {
    "size": 3510,
    "lines": 68,
    "lastModified": "2025-12-29T15:24:56.142Z"
  },
  "comments": []
}