{
  "id": "snapshot_1764768822489_qfidp91ib",
  "approvalId": "approval_1764768822466_qj3lh3sbo",
  "approvalTitle": "Script API Documentation Tasks (16 tasks)",
  "version": 1,
  "timestamp": "2025-12-03T13:33:42.489Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# Tasks Document\n\n## Phase 1: Core Types\n\n- [ ] 1. Create documentation types\n  - File: `core/src/scripting/docs/types.rs`\n  - Define FunctionDoc, TypeDoc, ParamDoc\n  - Add Serialize derives\n  - Purpose: Documentation data structures\n  - _Leverage: serde_\n  - _Requirements: 1.1, 2.1_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer creating types | Task: Create documentation types (FunctionDoc, TypeDoc, etc.) | Restrictions: Serializable, comprehensive fields | _Leverage: serde | Success: Types capture all doc info | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 2. Create DocRegistry\n  - File: `core/src/scripting/docs/registry.rs`\n  - Static registry for documentation\n  - Registration and lookup methods\n  - Purpose: Central doc storage\n  - _Leverage: Static registry patterns_\n  - _Requirements: 1.1, 1.3_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer creating registry | Task: Create DocRegistry with static storage | Restrictions: Thread-safe, efficient lookup | _Leverage: Static patterns | Success: Registry stores all docs | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 3. Create search functionality\n  - File: `core/src/scripting/docs/search.rs`\n  - Text search over functions and types\n  - Relevance scoring\n  - Purpose: Documentation search\n  - _Leverage: String matching_\n  - _Requirements: 4.1, 4.3_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer creating search | Task: Create search functionality for docs | Restrictions: Fast, relevance ranked | _Leverage: String matching | Success: Search finds relevant items | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n## Phase 2: Documentation Extraction\n\n- [ ] 4. Create rhai_doc attribute macro\n  - File: `core-macros/src/rhai_doc.rs` (new crate if needed)\n  - Extract doc comments and signatures\n  - Register with DocRegistry\n  - Purpose: Automatic doc extraction\n  - _Leverage: proc-macro_\n  - _Requirements: 1.1, 1.2_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Macro Developer | Task: Create rhai_doc attribute macro | Restrictions: Extract doc comments, signatures, examples | _Leverage: proc-macro | Success: Macro extracts documentation | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 5. Add documentation to existing Rhai functions\n  - Files: `core/src/scripting/*.rs`\n  - Add doc comments to all registered functions\n  - Include parameter descriptions and examples\n  - Purpose: Document existing API\n  - _Leverage: rhai_doc macro_\n  - _Requirements: 1.2, 3.1_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer documenting code | Task: Add doc comments to all Rhai functions | Restrictions: Complete docs, working examples | _Leverage: rhai_doc macro | Success: All functions documented | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 6. Add type documentation\n  - Files: `core/src/scripting/types.rs`\n  - Document all Rhai-exposed types\n  - Include methods and properties\n  - Purpose: Type documentation\n  - _Leverage: TypeDoc type_\n  - _Requirements: 2.3, 2.4_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer documenting types | Task: Add documentation for Rhai types | Restrictions: Methods, properties, examples | _Leverage: TypeDoc | Success: All types documented | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n## Phase 3: Documentation Generation\n\n- [ ] 7. Create Markdown generator\n  - File: `core/src/scripting/docs/generators/markdown.rs`\n  - Generate markdown from DocRegistry\n  - Organized by module\n  - Purpose: Readable documentation\n  - _Leverage: DocRegistry_\n  - _Requirements: 4.2_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer creating generator | Task: Create Markdown documentation generator | Restrictions: Clean formatting, module organization | _Leverage: DocRegistry | Success: Markdown docs generated | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 8. Create HTML generator\n  - File: `core/src/scripting/docs/generators/html.rs`\n  - Generate searchable HTML docs\n  - Include syntax highlighting\n  - Purpose: Web documentation\n  - _Leverage: DocRegistry, templates_\n  - _Requirements: 4.1, 4.2_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer creating generator | Task: Create HTML documentation generator | Restrictions: Searchable, syntax highlighting | _Leverage: Templates | Success: HTML docs generated with search | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 9. Create JSON schema generator\n  - File: `core/src/scripting/docs/generators/json.rs`\n  - Generate JSON for IDE integration\n  - Include autocomplete data\n  - Purpose: IDE support\n  - _Leverage: serde_json_\n  - _Requirements: 4.4_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer creating generator | Task: Create JSON schema for IDE autocomplete | Restrictions: Standard format, complete type info | _Leverage: serde_json | Success: IDEs can use JSON schema | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n## Phase 4: Example Testing\n\n- [ ] 10. Create ExampleRunner\n  - File: `core/src/scripting/docs/examples.rs`\n  - Run Rhai examples as tests\n  - Capture and report errors\n  - Purpose: Verify examples work\n  - _Leverage: Rhai engine_\n  - _Requirements: 3.2, 3.3_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer creating test runner | Task: Create ExampleRunner for doc examples | Restrictions: Run all examples, clear errors | _Leverage: Rhai engine | Success: Examples tested automatically | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 11. Add example tests to CI\n  - File: CI configuration\n  - Run example tests in build\n  - Fail on broken examples (warning for now)\n  - Purpose: Keep examples working\n  - _Leverage: ExampleRunner_\n  - _Requirements: 3.3, 3.4_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: DevOps Developer | Task: Add example testing to CI | Restrictions: Run on every build, clear output | _Leverage: ExampleRunner | Success: CI tests examples | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n## Phase 5: Build Integration\n\n- [ ] 12. Add doc generation to build\n  - File: `core/build.rs` or script\n  - Generate docs on build\n  - Output to docs/ directory\n  - Purpose: Auto-update docs\n  - _Leverage: DocGenerator_\n  - _Requirements: 1.1_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Build Developer | Task: Add doc generation to build process | Restrictions: Fast, only on changes | _Leverage: DocGenerator | Success: Docs auto-generate | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 13. Create doc generation CLI command\n  - File: CLI module\n  - `keyrx docs generate` command\n  - Format and output options\n  - Purpose: Manual doc generation\n  - _Leverage: DocGenerator_\n  - _Requirements: Non-functional (usability)_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Rust Developer adding CLI | Task: Add docs generate CLI command | Restrictions: Format options, output dir | _Leverage: DocGenerator | Success: CLI generates docs | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n## Phase 6: Flutter Integration\n\n- [ ] 14. Create API docs service\n  - File: `ui/lib/services/api_docs_service.dart`\n  - Fetch docs from Rust via FFI or file\n  - Search and browse support\n  - Purpose: In-app documentation\n  - _Leverage: JSON docs_\n  - _Requirements: 4.1_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer creating service | Task: Create API docs service for Flutter | Restrictions: Fast search, browse by module | _Leverage: JSON docs | Success: Flutter can show docs | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 15. Create docs browser widget\n  - File: `ui/lib/widgets/scripting/api_browser.dart`\n  - Browse and search API docs\n  - Syntax highlighting for examples\n  - Purpose: In-app doc viewing\n  - _Leverage: API docs service_\n  - _Requirements: 4.1, 4.2_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer creating widget | Task: Create API browser widget | Restrictions: Search, browse, syntax highlight | _Leverage: API docs service | Success: Users can browse docs in app | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n\n- [ ] 16. Integrate docs into script editor\n  - File: `ui/lib/pages/script_editor_page.dart`\n  - Add documentation panel\n  - Autocomplete from docs\n  - Purpose: Documentation during editing\n  - _Leverage: API browser widget_\n  - _Requirements: 4.4_\n  - _Prompt: Implement the task for spec script-api-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer integrating docs | Task: Add docs panel to script editor | Restrictions: Non-intrusive, helpful autocomplete | _Leverage: API browser | Success: Docs available while editing | After completion: Mark task [-] as in-progress before starting, use log-implementation tool to record artifacts, then mark [x] when complete_\n",
  "fileStats": {
    "size": 11701,
    "lines": 158,
    "lastModified": "2025-12-03T13:33:15.793Z"
  },
  "comments": []
}