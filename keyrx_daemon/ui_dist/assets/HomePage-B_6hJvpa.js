import{u as e,j as s}from"./vendor-DchKSmaM.js";import{C as a}from"./client-DsuQMGGi.js";import{B as t}from"./index-DNY7ggn3.js";import{L as l}from"./LoadingSkeleton-DwR2jlpO.js";import{u as i}from"./useDevices-DYblVG9O.js";import"./schemas-DRbUxdzV.js";const r=({profile:i,loading:r=!1,className:c=""})=>{const n=e();return r?s.jsx(a,{className:c,children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsx(l,{variant:"text",width:"40%",height:"24px"}),s.jsxs("div",{className:"flex items-center gap-sm",children:[s.jsx(l,{variant:"circular",width:"32px",height:"32px"}),s.jsx(l,{variant:"text",width:"60%",height:"28px"})]}),s.jsxs("div",{className:"flex gap-md",children:[s.jsx(l,{variant:"text",width:"80px",height:"16px"}),s.jsx(l,{variant:"text",width:"120px",height:"16px"}),s.jsx(l,{variant:"text",width:"100px",height:"16px"})]})]})}):i?s.jsx(a,{className:c,children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Active Profile"}),s.jsx(t,{variant:"secondary",size:"sm",onClick:()=>{i&&n(`/profiles/${encodeURIComponent(i.name)}/config`)},"aria-label":`Edit profile ${i.name}`,children:"Edit"})]}),s.jsxs("div",{className:"flex items-center gap-sm",children:[s.jsx("span",{className:"text-2xl",role:"img","aria-label":"Profile icon",children:"ðŸŽ®"}),s.jsx("h3",{className:"text-xl font-semibold text-slate-100",children:i.name})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-md text-sm text-slate-400",children:[s.jsxs("span",{children:["â€¢ ",i.layers," Layers"]}),s.jsxs("span",{children:["â€¢ Modified: ",i.modifiedAt]}),s.jsxs("span",{children:["â€¢ ",i.mappings," key mappings"]})]})]})}):s.jsx(a,{className:c,children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Active Profile"}),s.jsx("p",{className:"text-sm text-slate-400",children:"No profile is currently active. Create or activate a profile to get started."}),s.jsx("div",{children:s.jsx(t,{variant:"primary",size:"md",onClick:()=>n("/profiles"),"aria-label":"Go to profiles page",children:"Manage Profiles"})})]})})},c=({title:e="Error",message:a,onRetry:l,retryLabel:i="Try Again",className:r=""})=>s.jsx("div",{className:`flex flex-col items-center justify-center p-8 ${r}`,role:"alert","aria-live":"assertive",children:s.jsxs("div",{className:"flex flex-col items-center max-w-md text-center",children:[s.jsx("div",{className:"mb-4 p-3 bg-red-500/10 rounded-full",children:s.jsx("svg",{className:"h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-slate-100 mb-2",children:e}),s.jsx("p",{className:"text-slate-400 text-sm mb-6",children:a}),l&&s.jsxs(t,{variant:"primary",size:"md",onClick:l,"aria-label":i,children:[s.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i]})]})}),n=({className:r=""})=>{const n=e(),{data:x=[],isLoading:d,error:m,refetch:o}=i();return m?s.jsx(a,{className:r,children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Connected Devices"}),s.jsx(c,{title:"Failed to load devices",message:m instanceof Error?m.message:"An error occurred while fetching devices",onRetry:()=>o(),retryLabel:"Retry"})]})}):d?s.jsx(a,{className:r,children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(l,{variant:"text",width:"180px",height:"24px"}),s.jsx(l,{variant:"rectangular",width:"140px",height:"36px"})]}),s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsx(l,{variant:"rectangular",height:"80px"}),s.jsx(l,{variant:"rectangular",height:"80px"})]})]})}):s.jsx(a,{className:r,children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-100",children:["Connected Devices (",x.length,")"]}),s.jsx(t,{variant:"secondary",size:"sm",onClick:()=>n("/devices"),"aria-label":"Manage devices",children:"Manage Devices"})]}),0===x.length?s.jsx("div",{className:"py-lg text-center",children:s.jsx("p",{className:"text-sm text-slate-400",children:"No devices connected. Connect a keyboard to get started."})}):s.jsx("div",{className:"flex flex-col gap-md",children:x.map(e=>s.jsxs("div",{className:"rounded-md border border-slate-700 bg-slate-800 p-md transition-colors hover:border-slate-600",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-sm",children:[s.jsx("span",{className:"text-xl",role:"img","aria-label":"Keyboard",children:"ðŸ–®"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-sm",children:[s.jsx("span",{className:"text-base font-medium text-slate-100",children:e.name}),e.active&&s.jsx("span",{className:"text-xs text-green-500","aria-label":"Active device",children:"âœ“ Active"})]}),s.jsx("span",{className:"text-xs font-mono text-slate-500",children:e.serial||e.path})]})]})}),s.jsxs("div",{className:"mt-sm flex flex-wrap items-center gap-md text-xs text-slate-400",children:[s.jsxs("span",{children:["Scope: ","global"===e.scope?"Global":"device-specific"===e.scope?"Device-Specific":"Not Set"]}),s.jsx("span",{children:"â€¢"}),s.jsxs("span",{children:["Layout: ",e.layout||"Not Set"]})]})]},e.id))})]})})},x=({stats:e,loading:t=!1,className:i=""})=>{const r=e=>`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m`,c=e=>e.toLocaleString("en-US");return t?s.jsx(a,{className:i,"aria-label":"Quick statistics loading","aria-busy":"true",children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsx(l,{variant:"text",width:"150px",height:"24px"}),s.jsxs("div",{className:"flex flex-wrap gap-md",children:[s.jsx(l,{variant:"text",width:"100px",height:"16px"}),s.jsx(l,{variant:"text",width:"120px",height:"16px"}),s.jsx(l,{variant:"text",width:"80px",height:"16px"})]})]})}):e?s.jsx(a,{className:i,"aria-labelledby":"quick-stats-title",children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsx("h2",{id:"quick-stats-title",className:"text-lg font-semibold text-slate-100",children:"Quick Stats"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-md text-sm text-slate-400",role:"list",children:[s.jsxs("div",{className:"flex items-center gap-xs",role:"listitem",children:[s.jsx("span",{className:"font-medium text-slate-100",children:"Latency:"}),s.jsxs("span",{"aria-label":`Average latency ${e.latencyAvg.toFixed(1)} milliseconds`,children:[e.latencyAvg.toFixed(1),"ms avg"]})]}),s.jsx("span",{"aria-hidden":"true",children:"â€¢"}),s.jsxs("div",{className:"flex items-center gap-xs",role:"listitem",children:[s.jsx("span",{className:"font-medium text-slate-100",children:"Events:"}),s.jsxs("span",{"aria-label":`${c(e.eventsToday)} events processed today`,children:[c(e.eventsToday)," today"]})]}),s.jsx("span",{"aria-hidden":"true",children:"â€¢"}),s.jsxs("div",{className:"flex items-center gap-xs",role:"listitem",children:[s.jsx("span",{className:"font-medium text-slate-100",children:"Uptime:"}),s.jsx("span",{"aria-label":`Daemon uptime ${r(e.uptimeSeconds)}`,children:r(e.uptimeSeconds)})]})]})]})}):s.jsx(a,{className:i,"aria-labelledby":"quick-stats-title",children:s.jsxs("div",{className:"flex flex-col gap-md",children:[s.jsx("h2",{id:"quick-stats-title",className:"text-lg font-semibold text-slate-100",children:"Quick Stats"}),s.jsx("p",{className:"text-sm text-slate-400",role:"status",children:"Statistics unavailable. Ensure the daemon is running."})]})})},d=()=>s.jsxs("main",{className:"flex flex-col gap-4 md:gap-6 p-4 md:p-6 lg:p-8",role:"main","aria-label":"Dashboard",children:[s.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-semibold text-slate-100",children:"Dashboard"}),s.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",role:"region","aria-label":"Dashboard overview",children:[s.jsx(r,{}),s.jsx(n,{}),s.jsx(x,{})]})]});export{d as HomePage,d as default};
//# sourceMappingURL=HomePage-B_6hJvpa.js.map
