{"version":3,"file":"client-DsuQMGGi.js","sources":["../../src/components/Card.tsx","../../src/api/client.ts"],"sourcesContent":["import React from 'react';\n\ninterface CardProps {\n  variant?: 'default' | 'elevated';\n  padding?: 'sm' | 'md' | 'lg';\n  header?: React.ReactNode;\n  footer?: React.ReactNode;\n  children: React.ReactNode;\n  className?: string;\n  role?: string;\n  'aria-label'?: string;\n  'aria-labelledby'?: string;\n}\n\nexport const Card = React.memo<CardProps>(\n  ({\n    variant = 'default',\n    padding = 'md',\n    header,\n    footer,\n    children,\n    className = '',\n    role = 'region',\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n  }) => {\n    const baseClasses =\n      'bg-slate-800 border border-slate-700 rounded-md overflow-hidden';\n\n    const variantClasses = {\n      default: 'shadow-md',\n      elevated: 'shadow-xl',\n    };\n\n    const paddingClasses = {\n      sm: 'p-sm',\n      md: 'p-md',\n      lg: 'p-lg',\n    };\n\n    return (\n      <div\n        className={`${baseClasses} ${variantClasses[variant]} ${className}`}\n        role={role}\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledBy}\n      >\n        {header && (\n          <div className=\"border-b border-slate-700 px-md py-sm bg-slate-700/50\">\n            {header}\n          </div>\n        )}\n        <div className={paddingClasses[padding]}>{children}</div>\n        {footer && (\n          <div className=\"border-t border-slate-700 px-md py-sm bg-slate-700/50\">\n            {footer}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nCard.displayName = 'Card';\n","/**\n * Base API client utilities\n * Handles common error handling and request/response processing\n */\n\nexport class ApiError extends Error {\n  constructor(\n    message: string,\n    public statusCode: number,\n    public errorCode?: string\n  ) {\n    super(message);\n    this.name = 'ApiError';\n  }\n}\n\ninterface ApiResponse<T> {\n  data?: T;\n  error?: string | { code: string; message: string };\n  errorCode?: string;\n}\n\n/**\n * Base fetch wrapper with error handling\n */\nasync function apiFetch<T>(\n  endpoint: string,\n  options?: RequestInit\n): Promise<T> {\n  const baseUrl = import.meta.env.VITE_API_URL || '';\n  const url = `${baseUrl}${endpoint}`;\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options?.headers,\n      },\n    });\n\n    // Handle non-JSON responses (e.g., 204 No Content)\n    if (response.status === 204) {\n      return {} as T;\n    }\n\n    const data: ApiResponse<T> = await response.json();\n\n    if (!response.ok) {\n      // Extract error message from object or string\n      let errorMessage: string;\n      let errorCode: string | undefined;\n\n      if (typeof data.error === 'object' && data.error !== null) {\n        // Backend error object format: { code: \"...\", message: \"...\" }\n        const message = data.error.message;\n\n        // Ensure message is a string (handle case where message itself is an object)\n        errorMessage = typeof message === 'string'\n          ? message\n          : JSON.stringify(message);\n\n        errorCode = data.error.code;\n      } else if (typeof data.error === 'string') {\n        // Simple string error\n        errorMessage = data.error;\n        errorCode = data.errorCode;\n      } else {\n        // Fallback\n        errorMessage = `Request failed: ${response.statusText}`;\n        errorCode = data.errorCode;\n      }\n\n      throw new ApiError(\n        errorMessage,\n        response.status,\n        errorCode\n      );\n    }\n\n    // Return the data directly if it's wrapped, otherwise return the whole response\n    return (data.data !== undefined ? data.data : data) as T;\n  } catch (error) {\n    if (error instanceof ApiError) {\n      throw error;\n    }\n\n    // Network error or JSON parse error\n    throw new ApiError(\n      error instanceof Error ? error.message : 'Network error',\n      0\n    );\n  }\n}\n\nexport const apiClient = {\n  get: <T>(endpoint: string) => apiFetch<T>(endpoint, { method: 'GET' }),\n\n  post: <T>(endpoint: string, body?: unknown) =>\n    apiFetch<T>(endpoint, {\n      method: 'POST',\n      body: body ? JSON.stringify(body) : undefined,\n    }),\n\n  put: <T>(endpoint: string, body?: unknown) =>\n    apiFetch<T>(endpoint, {\n      method: 'PUT',\n      body: body ? JSON.stringify(body) : undefined,\n    }),\n\n  patch: <T>(endpoint: string, body?: unknown) =>\n    apiFetch<T>(endpoint, {\n      method: 'PATCH',\n      body: body ? JSON.stringify(body) : undefined,\n    }),\n\n  delete: <T>(endpoint: string, body?: unknown) =>\n    apiFetch<T>(endpoint, {\n      method: 'DELETE',\n      body: body ? JSON.stringify(body) : undefined,\n    }),\n};\n"],"names":["Card","React","memo","variant","padding","header","footer","children","className","role","ariaLabel","ariaLabelledBy","jsxs","default","elevated","jsx","sm","md","lg","displayName","ApiError","Error","constructor","message","statusCode","errorCode","super","this","name","async","apiFetch","endpoint","options","url","response","fetch","headers","status","data","json","ok","errorMessage","error","JSON","stringify","code","statusText","apiClient","get","method","post","body","put","patch","delete"],"mappings":"gDAcO,MAAMA,EAAOC,EAAMC,KACxB,EACEC,UAAU,UACVC,UAAU,KACVC,SACAC,SACAC,WACAC,YAAY,GACZC,OAAO,SACP,aAAcC,EACd,kBAAmBC,KAiBjBC,EAAAA,KAAC,MAAA,CACCJ,UAAW,mEAbQ,CACrBK,QAAS,YACTC,SAAU,aAWoCX,MAAYK,IACxDC,OACA,aAAYC,EACZ,kBAAiBC,EAEhBJ,SAAA,CAAAF,GACCU,EAAAA,IAAC,MAAA,CAAIP,UAAU,wDACZD,SAAAF,UAGJ,MAAA,CAAIG,UAlBc,CACrBQ,GAAI,OACJC,GAAI,OACJC,GAAI,QAe6Bd,GAAWG,aACzCD,GACCS,EAAAA,IAAC,MAAA,CAAIP,UAAU,wDACZD,SAAAD,QAQbN,EAAKmB,YAAc,OC1DZ,MAAMC,UAAiBC,MAC5B,WAAAC,CACEC,EACOC,EACAC,GAEPC,MAAMH,GAHCI,KAAAH,WAAAA,EACAG,KAAAF,UAAAA,EAGPE,KAAKC,KAAO,UACd,EAYFC,eAAeC,EACbC,EACAC,GAEA,MACMC,EAAM,GAAaF,IAEzB,IACE,MAAMG,QAAiBC,MAAMF,EAAK,IAC7BD,EACHI,QAAS,CACP,eAAgB,sBACbJ,GAASI,WAKhB,GAAwB,MAApBF,EAASG,OACX,MAAO,CAAA,EAGT,MAAMC,QAA6BJ,EAASK,OAE5C,IAAKL,EAASM,GAAI,CAEhB,IAAIC,EACAhB,EAEJ,GAA0B,iBAAfa,EAAKI,OAAqC,OAAfJ,EAAKI,MAAgB,CAEzD,MAAMnB,EAAUe,EAAKI,MAAMnB,QAG3BkB,EAAkC,iBAAZlB,EAClBA,EACAoB,KAAKC,UAAUrB,GAEnBE,EAAYa,EAAKI,MAAMG,IACzB,KAAiC,iBAAfP,EAAKI,OAErBD,EAAeH,EAAKI,MACpBjB,EAAYa,EAAKb,YAGjBgB,EAAe,mBAAmBP,EAASY,aAC3CrB,EAAYa,EAAKb,WAGnB,MAAM,IAAIL,EACRqB,EACAP,EAASG,OACTZ,EAEJ,CAGA,YAAsB,IAAda,EAAKA,KAAqBA,EAAKA,KAAOA,CAChD,OAASI,GACP,GAAIA,aAAiBtB,EACnB,MAAMsB,EAIR,MAAM,IAAItB,EACRsB,aAAiBrB,MAAQqB,EAAMnB,QAAU,gBACzC,EAEJ,CACF,CAEO,MAAMwB,EAAY,CACvBC,IAASjB,GAAqBD,EAAYC,EAAU,CAAEkB,OAAQ,QAE9DC,KAAM,CAAInB,EAAkBoB,IAC1BrB,EAAYC,EAAU,CACpBkB,OAAQ,OACRE,KAAMA,EAAOR,KAAKC,UAAUO,QAAQ,IAGxCC,IAAK,CAAIrB,EAAkBoB,IACzBrB,EAAYC,EAAU,CACpBkB,OAAQ,MACRE,KAAMA,EAAOR,KAAKC,UAAUO,QAAQ,IAGxCE,MAAO,CAAItB,EAAkBoB,IAC3BrB,EAAYC,EAAU,CACpBkB,OAAQ,QACRE,KAAMA,EAAOR,KAAKC,UAAUO,QAAQ,IAGxCG,OAAQ,CAAIvB,EAAkBoB,IAC5BrB,EAAYC,EAAU,CACpBkB,OAAQ,SACRE,KAAMA,EAAOR,KAAKC,UAAUO,QAAQ"}