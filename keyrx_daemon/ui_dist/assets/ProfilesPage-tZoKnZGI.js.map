{"version":3,"file":"ProfilesPage-tZoKnZGI.js","sources":["../../src/components/ProfileCard.tsx","../../src/hooks/useProfileValidation.ts","../../src/utils/pathUtils.ts","../../src/pages/ProfilesPage.tsx"],"sourcesContent":["import React from 'react';\nimport { Card } from './Card';\nimport { Button } from './Button';\nimport { Tooltip } from './Tooltip';\nimport { Check, AlertTriangle, CheckCircle2, FileCode } from 'lucide-react';\nimport { useProfileValidation } from '../hooks/useProfileValidation';\nimport { truncatePath } from '../utils/pathUtils';\n\nexport interface ProfileCardProps {\n  name: string;\n  description?: string;\n  isActive: boolean;\n  lastModified?: string;\n  rhaiPath?: string;\n  fileExists?: boolean;\n  onActivate: () => void;\n  onEdit: () => void;\n  onDelete: () => void;\n  onPathClick?: () => void;\n}\n\n/**\n * ProfileCard Component\n *\n * Displays a single profile in a card format with:\n * - Profile name and optional description\n * - Active state indicator (green checkmark + \"ACTIVE\" badge)\n * - Action buttons: Activate, Edit, Delete\n * - Last modified timestamp\n *\n * Used in ProfilesPage grid layout\n */\nexport const ProfileCard = React.memo<ProfileCardProps>(\n  ({\n    name,\n    description,\n    isActive,\n    lastModified,\n    rhaiPath,\n    fileExists = true,\n    onActivate,\n    onEdit,\n    onDelete,\n    onPathClick,\n  }) => {\n    // Fetch validation status for this profile\n    const { data: validationResult, isLoading: isValidating } = useProfileValidation(name);\n\n    // Determine if profile is valid\n    const isValid = validationResult?.valid ?? true; // Default to valid if not yet loaded\n    const validationErrors = validationResult?.errors ?? [];\n    const firstError = validationErrors[0];\n\n    // Format Rhai path for display\n    const displayPath = rhaiPath ? truncatePath(rhaiPath, 40) : null;\n\n    return (\n      <Card\n        variant=\"default\"\n        padding=\"md\"\n        className={`relative ${isActive ? 'border-green-500 border-2' : ''}`}\n      >\n        {/* Active Badge */}\n        {isActive && (\n          <div className=\"absolute top-2 right-2 flex items-center gap-1 bg-green-500 text-white px-2 py-1 rounded text-xs font-semibold\">\n            <Check size={14} aria-hidden=\"true\" />\n            <span>ACTIVE</span>\n          </div>\n        )}\n\n        {/* Profile Name */}\n        <div className=\"flex items-start gap-2 mb-2\">\n          {isActive && (\n            <Check\n              size={20}\n              className=\"text-green-500 flex-shrink-0 mt-1\"\n              aria-label=\"Active profile indicator\"\n            />\n          )}\n          <h3 className=\"text-lg font-semibold text-slate-100\">{name}</h3>\n        </div>\n\n        {/* Description */}\n        {description && (\n          <p className=\"text-sm text-slate-400 mb-3 line-clamp-2\">\n            {description}\n          </p>\n        )}\n\n        {/* Rhai File Path */}\n        {rhaiPath && (\n          <div className=\"mb-3\">\n            <Tooltip content={rhaiPath} position=\"top\">\n              <button\n                onClick={onPathClick || onEdit}\n                className=\"inline-flex items-center gap-1.5 text-xs text-slate-400 hover:text-blue-400 transition-colors group max-w-full\"\n                aria-label={`Open configuration file: ${rhaiPath}`}\n              >\n                <FileCode\n                  size={14}\n                  className=\"flex-shrink-0 group-hover:text-blue-400\"\n                  aria-hidden=\"true\"\n                />\n                <span className=\"truncate font-mono\">{displayPath}</span>\n                {!fileExists && (\n                  <AlertTriangle\n                    size={14}\n                    className=\"flex-shrink-0 text-yellow-500\"\n                    aria-label=\"File not found\"\n                  />\n                )}\n              </button>\n            </Tooltip>\n          </div>\n        )}\n\n        {/* Validation Status Badge */}\n        {!isValidating && (\n          <div className=\"mb-3\">\n            {isValid ? (\n              <div className=\"inline-flex items-center gap-1 bg-green-900/30 text-green-400 border border-green-700 px-2 py-1 rounded text-xs font-medium\">\n                <CheckCircle2 size={14} aria-hidden=\"true\" />\n                <span>Valid</span>\n              </div>\n            ) : (\n              <Tooltip\n                content={\n                  firstError\n                    ? `Line ${firstError.line}: ${firstError.message}`\n                    : 'Invalid configuration'\n                }\n                position=\"top\"\n              >\n                <div className=\"inline-flex items-center gap-1 bg-yellow-900/30 text-yellow-400 border border-yellow-700 px-2 py-1 rounded text-xs font-medium cursor-help\">\n                  <AlertTriangle size={14} aria-hidden=\"true\" />\n                  <span>Invalid Configuration</span>\n                </div>\n              </Tooltip>\n            )}\n          </div>\n        )}\n\n        {/* Last Modified */}\n        {lastModified && (\n          <p className=\"text-xs text-slate-500 mb-4\">\n            Modified: {lastModified}\n          </p>\n        )}\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-2 flex-wrap\">\n          {!isActive && (\n            <Button\n              variant=\"primary\"\n              size=\"sm\"\n              onClick={onActivate}\n              disabled={!isValid}\n              aria-label={\n                !isValid\n                  ? `Cannot activate invalid profile ${name}`\n                  : `Activate profile ${name}`\n              }\n            >\n              Activate\n            </Button>\n          )}\n          <Button\n            variant=\"secondary\"\n            size=\"sm\"\n            onClick={onEdit}\n            aria-label={`Edit profile ${name}`}\n          >\n            Edit\n          </Button>\n          <Button\n            variant=\"danger\"\n            size=\"sm\"\n            onClick={onDelete}\n            aria-label={`Delete profile ${name}`}\n            disabled={isActive}\n          >\n            Delete\n          </Button>\n        </div>\n      </Card>\n    );\n  }\n);\n\nProfileCard.displayName = 'ProfileCard';\n","/**\n * useProfileValidation - React hook for profile validation status\n *\n * This hook provides validation status for a specific profile using React Query.\n * It fetches validation results from the backend and caches them for 1 minute.\n *\n * Features:\n * - Fetches validation status via POST /api/profiles/:name/validate\n * - Caches results for 1 minute to avoid excessive validation requests\n * - Returns structured validation errors with line numbers\n * - Automatically refetches when profile content changes\n *\n * @example\n * ```tsx\n * function ProfileCard({ profileName }: Props) {\n *   const { data, isLoading, isError } = useProfileValidation(profileName);\n *\n *   if (isLoading) return <Spinner />;\n *   if (data && !data.valid) {\n *     return <Badge variant=\"warning\">⚠️ Invalid Configuration</Badge>;\n *   }\n *   return <Badge variant=\"success\">✓ Valid</Badge>;\n * }\n * ```\n */\n\nimport { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '../api/client';\n\n/**\n * Validation error structure from backend\n */\nexport interface ValidationError {\n  line: number;\n  column?: number;\n  message: string;\n}\n\n/**\n * Validation result from backend\n */\nexport interface ValidationResult {\n  valid: boolean;\n  errors: ValidationError[];\n}\n\n/**\n * Validate a profile by name\n *\n * @param profileName - Name of the profile to validate\n * @returns Validation result with { valid: boolean, errors: ValidationError[] }\n */\nasync function validateProfile(profileName: string): Promise<ValidationResult> {\n  return apiClient.post<ValidationResult>(`/api/profiles/${profileName}/validate`);\n}\n\n/**\n * Hook options\n */\nexport interface UseProfileValidationOptions {\n  /** Enable or disable the query (default: true) */\n  enabled?: boolean;\n  /** Stale time in milliseconds (default: 60000 = 1 minute) */\n  staleTime?: number;\n}\n\n/**\n * Fetch validation status for a profile\n *\n * Uses React Query for caching and automatic refetching.\n * Results are cached for 1 minute by default to avoid excessive validation requests.\n *\n * @param profileName - Name of the profile to validate\n * @param options - Query options (enabled, staleTime)\n * @returns Query result with:\n *   - data: Validation result { valid: boolean, errors: ValidationError[] }\n *   - isLoading: Loading state\n *   - isError: Error state\n *   - error: Error object if request failed\n *   - refetch: Function to manually refetch validation\n */\nexport function useProfileValidation(\n  profileName: string,\n  options?: UseProfileValidationOptions\n) {\n  const { enabled = true, staleTime = 60000 } = options || {};\n\n  return useQuery({\n    queryKey: ['profile-validation', profileName],\n    queryFn: () => validateProfile(profileName),\n    enabled: enabled && !!profileName,\n    staleTime, // Cache for 1 minute by default\n    retry: 1, // Only retry once on failure\n    refetchOnWindowFocus: false, // Don't refetch on window focus\n  });\n}\n","/**\n * Path utility functions for displaying file paths\n */\n\n/**\n * Truncates a long file path with ellipsis in the middle\n * Example: /very/long/path/to/file.txt -> /very/.../file.txt\n */\nexport function truncatePath(path: string, maxLength: number = 50): string {\n  // Replace home directory with ~ first\n  const homeReplaced = path.replace(/^\\/home\\/[^/]+/, '~');\n\n  // If short enough after home replacement, return it\n  if (homeReplaced.length <= maxLength) {\n    return homeReplaced;\n  }\n\n  // Split into parts\n  const parts = homeReplaced.split('/');\n  if (parts.length <= 2) {\n    // Can't truncate much, just cut from start\n    return '...' + homeReplaced.slice(-(maxLength - 3));\n  }\n\n  // Keep first and last parts, add ellipsis in middle\n  const first = parts.slice(0, 2).join('/');\n  const last = parts[parts.length - 1];\n  const truncated = `${first}/.../${last}`;\n\n  if (truncated.length <= maxLength) {\n    return truncated;\n  }\n\n  // If still too long, just truncate from start\n  return '...' + homeReplaced.slice(-(maxLength - 3));\n}\n\n/**\n * Converts absolute path to user-friendly format\n * - Replaces /home/username with ~\n * - Shortens config paths\n */\nexport function formatPathForDisplay(path: string): string {\n  return path\n    .replace(/^\\/home\\/[^/]+/, '~')\n    .replace(/\\.config\\/keyrx\\/profiles\\//, '');\n}\n\n/**\n * Checks if a file path exists (client-side approximation)\n * In practice, this should be determined by the backend\n */\nexport function isPathAccessible(path: string): boolean {\n  // This is a placeholder - actual file existence should be checked by backend\n  // For now, we assume all paths returned by the API are valid\n  return path.length > 0;\n}\n","import React, { useState, useMemo, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ProfileCard } from '../components/ProfileCard';\nimport { Button } from '../components/Button';\nimport { Modal } from '../components/Modal';\nimport { Input } from '../components/Input';\nimport { Plus, CheckCircle, AlertCircle } from 'lucide-react';\nimport { SkeletonCard } from '../components/LoadingSkeleton';\nimport {\n  useProfiles,\n  useCreateProfile,\n  useActivateProfile,\n  useDeleteProfile,\n} from '../hooks/useProfiles';\nimport { getErrorMessage } from '../utils/errorUtils';\n\ninterface Profile {\n  id: string;\n  name: string;\n  description?: string;\n  isActive: boolean;\n  lastModified: string;\n  rhaiPath?: string;\n  fileExists?: boolean;\n}\n\n/**\n * ProfilesPage Component\n *\n * Profile management interface showing:\n * - Grid of profile cards (responsive: 3 cols desktop, 2 cols tablet, 1 col mobile)\n * - Create new profile button\n * - Activate/Edit/Delete actions per profile\n * - Active profile highlighted with green checkmark and border\n *\n * User Flows:\n * - Create: Click \"Create Profile\" → Modal opens → Enter name/description → Save\n * - Activate: Click \"Activate\" on inactive profile → Becomes active, previous deactivates\n * - Edit: Click \"Edit\" → Modal opens with current values → Update\n * - Delete: Click \"Delete\" → Confirmation modal → Confirm → Profile removed\n *\n * Requirements: Req 6 (Profile Management User Flow)\n */\nexport const ProfilesPage: React.FC = () => {\n  const navigate = useNavigate();\n\n  // Fetch profiles from real API\n  const { data: profilesData, isLoading, error } = useProfiles();\n  const createProfileMutation = useCreateProfile();\n  const activateProfileMutation = useActivateProfile();\n  const deleteProfileMutation = useDeleteProfile();\n\n  // Transform API data to component format\n  const profiles: Profile[] = useMemo(() => {\n    if (!profilesData) return [];\n\n    return profilesData.map((p) => ({\n      id: p.name, // Use name as ID since it's unique\n      name: p.name,\n      description: undefined, // API doesn't provide description yet\n      isActive: p.isActive,\n      lastModified: new Date(p.modifiedAt).toLocaleString('en-CA', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        hour12: false,\n      }),\n      rhaiPath: p.rhaiPath,\n      fileExists: true, // Assume file exists if returned by API\n    }));\n  }, [profilesData]);\n\n  const [createModalOpen, setCreateModalOpen] = useState(false);\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\n  const [selectedProfile, setSelectedProfile] = useState<Profile | null>(null);\n\n  const [newProfileName, setNewProfileName] = useState('');\n  const [newProfileDescription, setNewProfileDescription] = useState('');\n  const [selectedTemplate, setSelectedTemplate] = useState<'blank' | 'simple_remap' | 'capslock_escape' | 'vim_navigation' | 'gaming'>('blank');\n  const [nameError, setNameError] = useState('');\n  const [activationError, setActivationError] = useState<string | null>(null);\n  const [autoGenerateNotification, setAutoGenerateNotification] = useState<string | null>(null);\n  const [autoGenerateError, setAutoGenerateError] = useState<string | null>(null);\n  const [isAutoGenerating, setIsAutoGenerating] = useState(false);\n  const hasAttemptedAutoGenerate = useRef(false);\n\n  // Auto-generate default profile on first load if no profiles exist\n  useEffect(() => {\n    // Only run once when profiles data is loaded successfully (no error)\n    if (!isLoading && !error && !hasAttemptedAutoGenerate.current && profiles.length === 0) {\n      hasAttemptedAutoGenerate.current = true;\n      handleAutoGenerateDefaultProfile();\n    }\n  }, [isLoading, error, profiles.length]);\n\n  const handleAutoGenerateDefaultProfile = async () => {\n    setIsAutoGenerating(true);\n    setAutoGenerateError(null);\n\n    try {\n      // Create default profile with blank template\n      await createProfileMutation.mutateAsync({\n        name: 'default',\n        template: 'blank',\n      });\n\n      // Activate the newly created profile\n      await activateProfileMutation.mutateAsync('default');\n\n      // Show success notification\n      setAutoGenerateNotification('Default profile created. Click \"Edit\" to customize.');\n\n      // Auto-dismiss notification after 5 seconds\n      setTimeout(() => {\n        setAutoGenerateNotification(null);\n      }, 5000);\n    } catch (err) {\n      // Handle failure gracefully\n      const errorMessage = getErrorMessage(err, 'Failed to create default profile');\n\n      // Check if it's a daemon offline error\n      if (errorMessage.includes('Failed to fetch') || errorMessage.includes('NetworkError')) {\n        setAutoGenerateError('Unable to connect to daemon. Please ensure the daemon is running and try again.');\n      } else {\n        setAutoGenerateError(errorMessage);\n      }\n\n      console.error('Auto-generate default profile failed:', err);\n    } finally {\n      setIsAutoGenerating(false);\n    }\n  };\n\n  const handleRetryAutoGenerate = () => {\n    handleAutoGenerateDefaultProfile();\n  };\n\n  const validateProfileName = (name: string): boolean => {\n    if (!name.trim()) {\n      setNameError('Profile name is required');\n      return false;\n    }\n    if (name.length > 50) {\n      setNameError('Profile name must be 50 characters or less');\n      return false;\n    }\n    if (profiles.some((p) => p.name === name && p.id !== selectedProfile?.id)) {\n      setNameError('Profile name already exists');\n      return false;\n    }\n    setNameError('');\n    return true;\n  };\n\n  const handleCreateProfile = async () => {\n    if (!validateProfileName(newProfileName)) return;\n\n    try {\n      await createProfileMutation.mutateAsync({\n        name: newProfileName,\n        template: selectedTemplate,\n      });\n\n      setCreateModalOpen(false);\n      setNewProfileName('');\n      setNewProfileDescription('');\n      setSelectedTemplate('blank'); // Reset to default\n      setNameError('');\n    } catch (err) {\n      setNameError(getErrorMessage(err, 'Failed to create profile'));\n    }\n  };\n\n  const handleActivateProfile = async (profileId: string) => {\n    // Clear any previous activation errors\n    setActivationError(null);\n\n    try {\n      const result = await activateProfileMutation.mutateAsync(profileId);\n\n      // Check for compilation errors in the result\n      if (result.errors && result.errors.length > 0) {\n        const errorMessage = result.errors.join('\\n');\n        setActivationError(`Compilation failed:\\n${errorMessage}`);\n        console.error('Compilation errors:', result.errors);\n      }\n    } catch (err) {\n      // Handle API errors\n      const errorMessage = getErrorMessage(err, 'Unknown error occurred');\n      setActivationError(`Failed to activate profile: ${errorMessage}`);\n      console.error('Failed to activate profile:', err);\n    }\n  };\n\n  const handleNavigateToConfig = (profileName: string) => {\n    navigate(`/profiles/${profileName}/config`);\n  };\n\n  const handleEditProfile = (profile: Profile) => {\n    setSelectedProfile(profile);\n    setNewProfileName(profile.name);\n    setNewProfileDescription(profile.description || '');\n    setEditModalOpen(true);\n  };\n\n  const handleSaveEdit = async () => {\n    if (!selectedProfile || !validateProfileName(newProfileName)) return;\n\n    // TODO: Implement profile rename/update API\n    // For now, just close the modal\n    console.warn('Profile editing not yet implemented in API');\n\n    setEditModalOpen(false);\n    setSelectedProfile(null);\n    setNewProfileName('');\n    setNewProfileDescription('');\n    setNameError('');\n  };\n\n  const handleDeleteProfile = (profile: Profile) => {\n    setSelectedProfile(profile);\n    setDeleteModalOpen(true);\n  };\n\n  const handleConfirmDelete = async () => {\n    if (!selectedProfile) return;\n\n    try {\n      await deleteProfileMutation.mutateAsync(selectedProfile.name);\n      setDeleteModalOpen(false);\n      setSelectedProfile(null);\n    } catch (err) {\n      console.error('Failed to delete profile:', err);\n      // Show error to user (could add error state here)\n    }\n  };\n\n  const handleCancelCreate = () => {\n    setCreateModalOpen(false);\n    setNewProfileName('');\n    setNewProfileDescription('');\n    setSelectedTemplate('blank');\n    setNameError('');\n  };\n\n  const handleCancelEdit = () => {\n    setEditModalOpen(false);\n    setSelectedProfile(null);\n    setNewProfileName('');\n    setNewProfileDescription('');\n    setNameError('');\n  };\n\n  // Show loading state while fetching\n  if (isLoading) {\n    return (\n      <div className=\"flex flex-col gap-4 md:gap-6 p-4 md:p-6 lg:p-8\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n          <SkeletonCard className=\"h-8 w-32\" />\n          <SkeletonCard className=\"h-10 w-40\" />\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\n          <SkeletonCard />\n          <SkeletonCard />\n          <SkeletonCard />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4 md:gap-6 p-4 md:p-6 lg:p-8\">\n      {/* Error Display */}\n      {error && (\n        <div className=\"p-4 bg-red-500/10 border border-red-500/20 rounded-lg\">\n          <p className=\"text-sm text-red-400\">\n            Failed to load profiles: {error instanceof Error ? error.message : 'Unknown error'}\n          </p>\n        </div>\n      )}\n\n      {/* Activation Error Display */}\n      {activationError && (\n        <div className=\"p-4 bg-red-500/10 border border-red-500/20 rounded-lg\">\n          <div className=\"flex justify-between items-start\">\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-semibold text-red-400 mb-2\">\n                Profile Activation Error\n              </p>\n              <pre className=\"text-xs text-red-300 whitespace-pre-wrap font-mono\">\n                {activationError}\n              </pre>\n            </div>\n            <button\n              onClick={() => setActivationError(null)}\n              className=\"text-red-400 hover:text-red-300 ml-4\"\n              aria-label=\"Dismiss error\"\n            >\n              ×\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Auto-Generate Success Notification */}\n      {autoGenerateNotification && (\n        <div className=\"p-4 bg-green-500/10 border border-green-500/20 rounded-lg\">\n          <div className=\"flex items-start gap-3\">\n            <CheckCircle size={20} className=\"text-green-400 flex-shrink-0 mt-0.5\" aria-hidden=\"true\" />\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-green-300\">\n                {autoGenerateNotification}\n              </p>\n            </div>\n            <button\n              onClick={() => setAutoGenerateNotification(null)}\n              className=\"text-green-400 hover:text-green-300 ml-2\"\n              aria-label=\"Dismiss notification\"\n            >\n              ×\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Auto-Generate Error Display */}\n      {autoGenerateError && (\n        <div className=\"p-4 bg-red-500/10 border border-red-500/20 rounded-lg\">\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle size={20} className=\"text-red-400 flex-shrink-0 mt-0.5\" aria-hidden=\"true\" />\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-semibold text-red-400 mb-2\">\n                Failed to Create Default Profile\n              </p>\n              <p className=\"text-sm text-red-300 mb-3\">\n                {autoGenerateError}\n              </p>\n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                onClick={handleRetryAutoGenerate}\n                disabled={isAutoGenerating}\n                aria-label=\"Retry creating default profile\"\n              >\n                {isAutoGenerating ? 'Retrying...' : 'Retry'}\n              </Button>\n            </div>\n            <button\n              onClick={() => setAutoGenerateError(null)}\n              className=\"text-red-400 hover:text-red-300 ml-2\"\n              aria-label=\"Dismiss error\"\n            >\n              ×\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <h1 className=\"text-xl md:text-2xl lg:text-3xl font-semibold text-slate-100\">\n          Profiles\n        </h1>\n        <Button\n          variant=\"primary\"\n          size=\"md\"\n          onClick={() => setCreateModalOpen(true)}\n          aria-label=\"Create new profile\"\n          className=\"w-full sm:w-auto min-h-[44px] sm:min-h-0\"\n        >\n          <Plus size={20} className=\"mr-2\" aria-hidden=\"true\" />\n          Create Profile\n        </Button>\n      </div>\n\n      {/* Profile Grid - responsive: 1 col mobile, 2 cols tablet, 3 cols desktop */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\n        {profiles.map((profile) => (\n          <ProfileCard\n            key={profile.id}\n            name={profile.name}\n            description={profile.description}\n            isActive={profile.isActive}\n            lastModified={profile.lastModified}\n            rhaiPath={profile.rhaiPath}\n            fileExists={profile.fileExists}\n            onActivate={() => handleActivateProfile(profile.id)}\n            onEdit={() => handleEditProfile(profile)}\n            onDelete={() => handleDeleteProfile(profile)}\n            onPathClick={() => handleNavigateToConfig(profile.name)}\n          />\n        ))}\n      </div>\n\n      {/* Create Profile Modal */}\n      <Modal\n        open={createModalOpen}\n        onClose={handleCancelCreate}\n        title=\"Create New Profile\"\n      >\n        <div className=\"flex flex-col gap-md\">\n          <Input\n            type=\"text\"\n            value={newProfileName}\n            onChange={(value) => {\n              setNewProfileName(value);\n              if (nameError) validateProfileName(value);\n            }}\n            aria-label=\"Profile name\"\n            placeholder=\"Profile name\"\n            error={nameError}\n            maxLength={50}\n          />\n\n          {/* Template Selector */}\n          <div className=\"flex flex-col gap-2\">\n            <label htmlFor=\"template-select\" className=\"text-sm font-medium text-slate-300\">\n              Starting Template\n            </label>\n            <select\n              id=\"template-select\"\n              value={selectedTemplate}\n              onChange={(e) => setSelectedTemplate(e.target.value as typeof selectedTemplate)}\n              className=\"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-md text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              aria-label=\"Select profile template\"\n            >\n              <option value=\"blank\">Blank - Empty configuration</option>\n              <option value=\"simple_remap\">Simple Remap - Basic key remapping examples</option>\n              <option value=\"capslock_escape\">CapsLock→Escape - CapsLock as Escape key</option>\n              <option value=\"vim_navigation\">Vim Navigation - HJKL arrow keys layer</option>\n              <option value=\"gaming\">Gaming - Optimized for gaming</option>\n            </select>\n            <p className=\"text-xs text-slate-400\">\n              Choose a starting template for your profile configuration\n            </p>\n          </div>\n\n          <Input\n            type=\"text\"\n            value={newProfileDescription}\n            onChange={(value) => setNewProfileDescription(value)}\n            aria-label=\"Profile description\"\n            placeholder=\"Description (optional)\"\n            maxLength={200}\n          />\n          <div className=\"flex gap-2 justify-end mt-2\">\n            <Button\n              variant=\"secondary\"\n              size=\"md\"\n              onClick={handleCancelCreate}\n              aria-label=\"Cancel creating profile\"\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary\"\n              size=\"md\"\n              onClick={handleCreateProfile}\n              aria-label=\"Save new profile\"\n            >\n              Create\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Edit Profile Modal */}\n      <Modal\n        open={editModalOpen}\n        onClose={handleCancelEdit}\n        title=\"Edit Profile\"\n      >\n        <div className=\"flex flex-col gap-md\">\n          <Input\n            type=\"text\"\n            value={newProfileName}\n            onChange={(value) => {\n              setNewProfileName(value);\n              if (nameError) validateProfileName(value);\n            }}\n            aria-label=\"Profile name\"\n            placeholder=\"Profile name\"\n            error={nameError}\n            maxLength={50}\n          />\n          <Input\n            type=\"text\"\n            value={newProfileDescription}\n            onChange={(value) => setNewProfileDescription(value)}\n            aria-label=\"Profile description\"\n            placeholder=\"Description (optional)\"\n            maxLength={200}\n          />\n          <div className=\"flex gap-2 justify-end mt-2\">\n            <Button\n              variant=\"secondary\"\n              size=\"md\"\n              onClick={handleCancelEdit}\n              aria-label=\"Cancel editing profile\"\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary\"\n              size=\"md\"\n              onClick={handleSaveEdit}\n              aria-label=\"Save profile changes\"\n            >\n              Save\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Delete Confirmation Modal */}\n      <Modal\n        open={deleteModalOpen}\n        onClose={() => setDeleteModalOpen(false)}\n        title=\"Delete Profile\"\n      >\n        <div className=\"flex flex-col gap-md\">\n          <p className=\"text-slate-300\">\n            Are you sure you want to delete the profile{' '}\n            <strong className=\"text-white\">{selectedProfile?.name}</strong>?\n            This action cannot be undone.\n          </p>\n          <div className=\"flex gap-2 justify-end mt-2\">\n            <Button\n              variant=\"secondary\"\n              size=\"md\"\n              onClick={() => setDeleteModalOpen(false)}\n              aria-label=\"Cancel deleting profile\"\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"danger\"\n              size=\"md\"\n              onClick={handleConfirmDelete}\n              aria-label=\"Confirm delete profile\"\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default ProfilesPage;\n"],"names":["ProfileCard","React","memo","name","description","isActive","lastModified","rhaiPath","fileExists","onActivate","onEdit","onDelete","onPathClick","data","validationResult","isLoading","isValidating","profileName","enabled","staleTime","useQuery","queryKey","queryFn","async","apiClient","post","validateProfile","retry","refetchOnWindowFocus","useProfileValidation","isValid","valid","firstError","errors","displayPath","path","maxLength","homeReplaced","replace","length","parts","split","slice","truncated","join","truncatePath","jsxs","Card","variant","padding","className","children","jsx","Check","size","Tooltip","content","position","onClick","FileCode","AlertTriangle","CheckCircle2","line","message","Button","disabled","displayName","ProfilesPage","navigate","useNavigate","profilesData","error","useProfiles","createProfileMutation","useCreateProfile","activateProfileMutation","useActivateProfile","deleteProfileMutation","useDeleteProfile","profiles","useMemo","map","p","id","Date","modifiedAt","toLocaleString","year","month","day","hour","minute","hour12","createModalOpen","setCreateModalOpen","useState","editModalOpen","setEditModalOpen","deleteModalOpen","setDeleteModalOpen","selectedProfile","setSelectedProfile","newProfileName","setNewProfileName","newProfileDescription","setNewProfileDescription","selectedTemplate","setSelectedTemplate","nameError","setNameError","activationError","setActivationError","autoGenerateNotification","setAutoGenerateNotification","autoGenerateError","setAutoGenerateError","isAutoGenerating","setIsAutoGenerating","hasAttemptedAutoGenerate","useRef","useEffect","current","handleAutoGenerateDefaultProfile","mutateAsync","template","setTimeout","err","errorMessage","getErrorMessage","includes","validateProfileName","trim","some","handleCancelCreate","handleCancelEdit","SkeletonCard","Error","CheckCircle","AlertCircle","Plus","profile","profileId","result","handleActivateProfile","handleEditProfile","handleDeleteProfile","handleNavigateToConfig","Modal","open","onClose","title","Input","type","value","onChange","placeholder","htmlFor","e","target"],"mappings":"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"}