{"version":3,"file":"errorUtils-C0i9WI_e.js","sources":["../../src/utils/errorUtils.ts"],"sourcesContent":["/**\n * Error handling utilities\n *\n * Provides consistent error message extraction across the application.\n */\n\n/**\n * Extract a human-readable error message from any error type\n *\n * Handles:\n * - Error instances\n * - Error-like objects with message property\n * - Objects with nested error structures\n * - Primitive values\n *\n * @param error - Any error value\n * @param fallback - Fallback message if extraction fails\n * @returns Human-readable error message\n *\n * @example\n * ```ts\n * try {\n *   await apiCall();\n * } catch (err) {\n *   const message = getErrorMessage(err, 'Operation failed');\n *   setError(message);\n * }\n * ```\n */\nexport function getErrorMessage(error: unknown, fallback = 'An error occurred'): string {\n  // Handle null/undefined, but allow false/0/\"\" as valid values\n  if (error === null || error === undefined) {\n    return fallback;\n  }\n\n  // Standard Error instance\n  if (error instanceof Error) {\n    return error.message;\n  }\n\n  // Error-like object with message\n  if (typeof error === 'object' && error !== null && 'message' in error) {\n    const message = (error as { message: unknown }).message;\n\n    // If message is a string, return it\n    if (typeof message === 'string') {\n      return message;\n    }\n\n    // If message is an object, try to stringify it\n    if (typeof message === 'object' && message !== null) {\n      return JSON.stringify(message);\n    }\n  }\n\n  // String error\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  // Try to stringify objects\n  if (typeof error === 'object') {\n    try {\n      return JSON.stringify(error);\n    } catch {\n      return fallback;\n    }\n  }\n\n  // Fallback for primitives\n  return String(error);\n}\n\n/**\n * Format error for user display\n *\n * Ensures error messages are user-friendly and safe to display\n *\n * @param error - Any error value\n * @param context - Optional context prefix (e.g., \"Failed to save profile\")\n * @returns Formatted error message\n */\nexport function formatErrorForDisplay(error: unknown, context?: string): string {\n  const message = getErrorMessage(error);\n\n  if (context) {\n    // Avoid duplicate context if message already starts with it\n    if (message.toLowerCase().startsWith(context.toLowerCase())) {\n      return message;\n    }\n    return `${context}: ${message}`;\n  }\n\n  return message;\n}\n"],"names":["getErrorMessage","error","fallback","Error","message","JSON","stringify","String"],"mappings":"AA6BO,SAASA,EAAgBC,EAAgBC,EAAW,qBAEzD,GAAID,QACF,OAAOC,EAIT,GAAID,aAAiBE,MACnB,OAAOF,EAAMG,QAIf,GAAqB,iBAAVH,GAAgC,OAAVA,GAAkB,YAAaA,EAAO,CACrE,MAAMG,EAAWH,EAA+BG,QAGhD,GAAuB,iBAAZA,EACT,OAAOA,EAIT,GAAuB,iBAAZA,GAAoC,OAAZA,EACjC,OAAOC,KAAKC,UAAUF,EAE1B,CAGA,GAAqB,iBAAVH,EACT,OAAOA,EAIT,GAAqB,iBAAVA,EACT,IACE,OAAOI,KAAKC,UAAUL,EACxB,CAAA,MACE,OAAOC,CACT,CAIF,OAAOK,OAAON,EAChB"}