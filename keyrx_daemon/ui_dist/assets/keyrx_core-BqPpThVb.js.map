{"version":3,"file":"keyrx_core-BqPpThVb.js","sources":["../../src/wasm/pkg/keyrx_core.js"],"sourcesContent":["import * as __wbg_star0 from 'env';\n\nlet wasm;\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nfunction _assertClass(instance, klass) {\n    if (!(instance instanceof klass)) {\n        throw new Error(`expected instance of ${klass.name}`);\n    }\n}\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction getArrayU8FromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return getUint8ArrayMemory0().subarray(ptr / 1, ptr / 1 + len);\n}\n\nlet cachedDataViewMemory0 = null;\nfunction getDataViewMemory0() {\n    if (cachedDataViewMemory0 === null || cachedDataViewMemory0.buffer.detached === true || (cachedDataViewMemory0.buffer.detached === undefined && cachedDataViewMemory0.buffer !== wasm.memory.buffer)) {\n        cachedDataViewMemory0 = new DataView(wasm.memory.buffer);\n    }\n    return cachedDataViewMemory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return decodeText(ptr, len);\n}\n\nlet cachedUint8ArrayMemory0 = null;\nfunction getUint8ArrayMemory0() {\n    if (cachedUint8ArrayMemory0 === null || cachedUint8ArrayMemory0.byteLength === 0) {\n        cachedUint8ArrayMemory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8ArrayMemory0;\n}\n\nfunction getObject(idx) { return heap[idx]; }\n\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        wasm.__wbindgen_export4(addHeapObject(e));\n    }\n}\n\nlet heap = new Array(128).fill(undefined);\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1, 1) >>> 0;\n    getUint8ArrayMemory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8ArrayMemory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n\n    const mem = getUint8ArrayMemory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8ArrayMemory0().subarray(ptr + offset, ptr + len);\n        const ret = cachedTextEncoder.encodeInto(arg, view);\n\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\ncachedTextDecoder.decode();\nconst MAX_SAFARI_DECODE_BYTES = 2146435072;\nlet numBytesDecoded = 0;\nfunction decodeText(ptr, len) {\n    numBytesDecoded += len;\n    if (numBytesDecoded >= MAX_SAFARI_DECODE_BYTES) {\n        cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n        cachedTextDecoder.decode();\n        numBytesDecoded = len;\n    }\n    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));\n}\n\nconst cachedTextEncoder = new TextEncoder();\n\nif (!('encodeInto' in cachedTextEncoder)) {\n    cachedTextEncoder.encodeInto = function (arg, view) {\n        const buf = cachedTextEncoder.encode(arg);\n        view.set(buf);\n        return {\n            read: arg.length,\n            written: buf.length\n        };\n    }\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst ConfigHandleFinalization = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(ptr => wasm.__wbg_confighandle_free(ptr >>> 0, 1));\n\n/**\n * Opaque handle to a loaded configuration.\n *\n * This handle prevents JavaScript from directly accessing Rust memory.\n * The handle is an index into the CONFIG_STORE Vec.\n */\nexport class ConfigHandle {\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(ConfigHandle.prototype);\n        obj.__wbg_ptr = ptr;\n        ConfigHandleFinalization.register(obj, obj.__wbg_ptr, obj);\n        return obj;\n    }\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        ConfigHandleFinalization.unregister(this);\n        return ptr;\n    }\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_confighandle_free(ptr, 0);\n    }\n}\nif (Symbol.dispose) ConfigHandle.prototype[Symbol.dispose] = ConfigHandle.prototype.free;\n\n/**\n * Get current simulation state.\n *\n * Returns the state from the most recent simulation for the given configuration.\n * This matches the DaemonStateResponse format from the daemon API.\n *\n * # Arguments\n * * `config` - Handle to a loaded configuration\n *\n * # Returns\n * * `Ok(JsValue)` - DaemonStateResponse as JSON with:\n *   - active_layer: Optional<String> - Current active layer (if any)\n *   - modifiers: Vec<String> - Active modifier IDs as strings\n *   - locks: Vec<String> - Active lock IDs as strings\n *   - raw_state: Vec<bool> - 255-bit state vector\n *   - active_modifier_count: usize - Number of active modifiers\n *   - active_lock_count: usize - Number of active locks\n * * `Err(JsValue)` - Error message if no simulation has been run\n *\n * # Errors\n * Returns an error if:\n * - ConfigHandle is invalid\n * - No simulation has been run yet (no state available)\n *\n * # Example (JavaScript)\n * ```javascript\n * // After running a simulation\n * const state = get_state(configHandle);\n * console.log(`Active modifiers: ${state.active_modifier_count}`);\n * console.log(`Active locks: ${state.active_lock_count}`);\n * ```\n * @param {ConfigHandle} config\n * @returns {any}\n */\nexport function get_state(config) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        _assertClass(config, ConfigHandle);\n        var ptr0 = config.__destroy_into_raw();\n        wasm.get_state(retptr, ptr0);\n        var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n        var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n        var r2 = getDataViewMemory0().getInt32(retptr + 4 * 2, true);\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return takeObject(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\n/**\n * Load a Rhai configuration from source text.\n *\n * Parses the Rhai source, compiles it to a ConfigRoot structure, and stores\n * it in the global CONFIG_STORE. Returns an opaque handle for future operations.\n *\n * # Arguments\n * * `rhai_source` - Rhai DSL source code as a string\n *\n * # Returns\n * * `Ok(ConfigHandle)` - Handle to the loaded configuration\n * * `Err(JsValue)` - Parse error with line number and description\n *\n * # Errors\n * Returns an error if:\n * - Rhai syntax is invalid (returns parse error with line number)\n * - Configuration size exceeds 1MB\n * - Parser fails to generate valid ConfigRoot\n *\n * # Example (JavaScript)\n * ```javascript\n * const handle = load_config(`\n *   device(\"*\") {\n *     map(\"VK_A\", \"VK_B\");\n *   }\n * `);\n * ```\n * @param {string} rhai_source\n * @returns {ConfigHandle}\n */\nexport function load_config(rhai_source) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(rhai_source, wasm.__wbindgen_export, wasm.__wbindgen_export2);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.load_config(retptr, ptr0, len0);\n        var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n        var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n        var r2 = getDataViewMemory0().getInt32(retptr + 4 * 2, true);\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return ConfigHandle.__wrap(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\n/**\n * Load a pre-compiled .krx binary configuration.\n *\n * Deserializes a .krx binary file using rkyv with validation to ensure\n * integrity. The configuration is then stored in the global CONFIG_STORE.\n *\n * # Arguments\n * * `binary` - Raw bytes of a .krx binary file\n *\n * # Returns\n * * `Ok(ConfigHandle)` - Handle to the loaded configuration\n * * `Err(JsValue)` - Validation or deserialization error\n *\n * # Errors\n * Returns an error if:\n * - Binary format is invalid or corrupted\n * - Binary size exceeds 10MB limit\n * - Validation fails (corrupted data, invalid structure)\n * - rkyv deserialization fails\n *\n * # Example (JavaScript)\n * ```javascript\n * const response = await fetch('config.krx');\n * const binary = new Uint8Array(await response.arrayBuffer());\n * const handle = load_krx(binary);\n * ```\n * @param {Uint8Array} binary\n * @returns {ConfigHandle}\n */\nexport function load_krx(binary) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passArray8ToWasm0(binary, wasm.__wbindgen_export);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.load_krx(retptr, ptr0, len0);\n        var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n        var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n        var r2 = getDataViewMemory0().getInt32(retptr + 4 * 2, true);\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return ConfigHandle.__wrap(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\n/**\n * Simulate keyboard event sequence.\n *\n * Processes a sequence of keyboard events through the remapping configuration,\n * tracking state changes and performance metrics.\n *\n * # Arguments\n * * `config` - Handle to a loaded configuration\n * * `events_json` - JSON string containing EventSequence\n *\n * # Returns\n * * `Ok(JsValue)` - SimulationResult as JSON\n * * `Err(JsValue)` - Error message\n *\n * # Errors\n * Returns an error if:\n * - ConfigHandle is invalid\n * - JSON is malformed or doesn't match EventSequence schema\n * - Event keycodes are invalid\n * - Simulation exceeds 1000 events\n *\n * # Example (JavaScript)\n * ```javascript\n * const events = {\n *   events: [\n *     { keycode: \"A\", event_type: \"press\", timestamp_us: 0 },\n *     { keycode: \"A\", event_type: \"release\", timestamp_us: 100000 }\n *   ]\n * };\n * const result = simulate(configHandle, JSON.stringify(events));\n * ```\n * @param {ConfigHandle} config\n * @param {string} events_json\n * @returns {any}\n */\nexport function simulate(config, events_json) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        _assertClass(config, ConfigHandle);\n        var ptr0 = config.__destroy_into_raw();\n        const ptr1 = passStringToWasm0(events_json, wasm.__wbindgen_export, wasm.__wbindgen_export2);\n        const len1 = WASM_VECTOR_LEN;\n        wasm.simulate(retptr, ptr0, ptr1, len1);\n        var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n        var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n        var r2 = getDataViewMemory0().getInt32(retptr + 4 * 2, true);\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return takeObject(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\n/**\n * Validate a Rhai configuration source.\n *\n * Parses the Rhai source using keyrx_compiler and returns validation errors as a JSON array.\n * Returns an empty array if the configuration is valid.\n *\n * This function uses the same parser as the daemon to ensure validation results are\n * deterministic and match the daemon's behavior exactly.\n *\n * # Arguments\n * * `rhai_source` - Rhai DSL source code as a string\n *\n * # Returns\n * * `Ok(JsValue)` - JSON array of validation errors. Each error has:\n *   - `line`: number - Line number where the error occurred\n *   - `column`: number - Column number where the error occurred\n *   - `length`: number - Length of the error span\n *   - `message`: string - Error description\n * * `Err(JsValue)` - Internal error during validation\n *\n * # Example (JavaScript)\n * ```javascript\n * const errors = validate_config(`\n *   device(\"*\") {\n *     map(\"A\", \"B\");\n *   }\n * `);\n * console.log(errors); // [] for valid config\n * ```\n * @param {string} rhai_source\n * @returns {any}\n */\nexport function validate_config(rhai_source) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(rhai_source, wasm.__wbindgen_export, wasm.__wbindgen_export2);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.validate_config(retptr, ptr0, len0);\n        var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n        var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n        var r2 = getDataViewMemory0().getInt32(retptr + 4 * 2, true);\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return takeObject(r0);\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\n/**\n * Initialize the WASM module.\n *\n * This sets up the panic hook to provide better error messages in the\n * browser console. Call this before using any other WASM functions.\n *\n * # Example (JavaScript)\n * ```javascript\n * import init, { wasm_init } from './pkg/keyrx_core.js';\n *\n * await init();\n * wasm_init();\n * ```\n */\nexport function wasm_init() {\n    wasm.wasm_init();\n}\n\nconst EXPECTED_RESPONSE_TYPES = new Set(['basic', 'cors', 'default']);\n\nasync function __wbg_load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n            } catch (e) {\n                const validResponse = module.ok && EXPECTED_RESPONSE_TYPES.has(module.type);\n\n                if (validResponse && module.headers.get('Content-Type') !== 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n        } else {\n            return instance;\n        }\n    }\n}\n\nfunction __wbg_get_imports() {\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbg_Error_52673b7de5a0ca89 = function(arg0, arg1) {\n        const ret = Error(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_String_eecc4a11987127d6 = function(arg0, arg1) {\n        const ret = String(getObject(arg1));\n        const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_export, wasm.__wbindgen_export2);\n        const len1 = WASM_VECTOR_LEN;\n        getDataViewMemory0().setInt32(arg0 + 4 * 1, len1, true);\n        getDataViewMemory0().setInt32(arg0 + 4 * 0, ptr1, true);\n    };\n    imports.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbg_error_7534b8e9a36f1ab4 = function(arg0, arg1) {\n        let deferred0_0;\n        let deferred0_1;\n        try {\n            deferred0_0 = arg0;\n            deferred0_1 = arg1;\n            console.error(getStringFromWasm0(arg0, arg1));\n        } finally {\n            wasm.__wbindgen_export3(deferred0_0, deferred0_1, 1);\n        }\n    };\n    imports.wbg.__wbg_getRandomValues_1c61fac11405ffdc = function() { return handleError(function (arg0, arg1) {\n        globalThis.crypto.getRandomValues(getArrayU8FromWasm0(arg0, arg1));\n    }, arguments) };\n    imports.wbg.__wbg_new_1ba21ce319a06297 = function() {\n        const ret = new Object();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_25f239778d6112b9 = function() {\n        const ret = new Array();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_8a6f238a6ece86ea = function() {\n        const ret = new Error();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_3807d5f0bfc24aa7 = function(arg0, arg1, arg2) {\n        getObject(arg0)[takeObject(arg1)] = takeObject(arg2);\n    };\n    imports.wbg.__wbg_set_7df433eea03a5c14 = function(arg0, arg1, arg2) {\n        getObject(arg0)[arg1 >>> 0] = takeObject(arg2);\n    };\n    imports.wbg.__wbg_stack_0ed75d68575b0f3c = function(arg0, arg1) {\n        const ret = getObject(arg1).stack;\n        const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_export, wasm.__wbindgen_export2);\n        const len1 = WASM_VECTOR_LEN;\n        getDataViewMemory0().setInt32(arg0 + 4 * 1, len1, true);\n        getDataViewMemory0().setInt32(arg0 + 4 * 0, ptr1, true);\n    };\n    imports.wbg.__wbindgen_cast_2241b6af4c4b2941 = function(arg0, arg1) {\n        // Cast intrinsic for `Ref(String) -> Externref`.\n        const ret = getStringFromWasm0(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_cast_4625c577ab2ec9ee = function(arg0) {\n        // Cast intrinsic for `U64 -> Externref`.\n        const ret = BigInt.asUintN(64, arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_cast_d6cd19b81560fd6e = function(arg0) {\n        // Cast intrinsic for `F64 -> Externref`.\n        const ret = arg0;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_object_clone_ref = function(arg0) {\n        const ret = getObject(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports['env'] = __wbg_star0;\n\n    return imports;\n}\n\nfunction __wbg_finalize_init(instance, module) {\n    wasm = instance.exports;\n    __wbg_init.__wbindgen_wasm_module = module;\n    cachedDataViewMemory0 = null;\n    cachedUint8ArrayMemory0 = null;\n\n\n\n    return wasm;\n}\n\nfunction initSync(module) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module !== 'undefined') {\n        if (Object.getPrototypeOf(module) === Object.prototype) {\n            ({module} = module)\n        } else {\n            console.warn('using deprecated parameters for `initSync()`; pass a single object instead')\n        }\n    }\n\n    const imports = __wbg_get_imports();\n    if (!(module instanceof WebAssembly.Module)) {\n        module = new WebAssembly.Module(module);\n    }\n    const instance = new WebAssembly.Instance(module, imports);\n    return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(module_or_path) {\n    if (wasm !== undefined) return wasm;\n\n\n    if (typeof module_or_path !== 'undefined') {\n        if (Object.getPrototypeOf(module_or_path) === Object.prototype) {\n            ({module_or_path} = module_or_path)\n        } else {\n            console.warn('using deprecated parameters for the initialization function; pass a single object instead')\n        }\n    }\n\n    if (typeof module_or_path === 'undefined') {\n        module_or_path = new URL('keyrx_core_bg.wasm', import.meta.url);\n    }\n    const imports = __wbg_get_imports();\n\n    if (typeof module_or_path === 'string' || (typeof Request === 'function' && module_or_path instanceof Request) || (typeof URL === 'function' && module_or_path instanceof URL)) {\n        module_or_path = fetch(module_or_path);\n    }\n\n    const { instance, module } = await __wbg_load(await module_or_path, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nexport { initSync };\nexport default __wbg_init;\n"],"names":["wasm","addHeapObject","obj","heap_next","heap","length","push","idx","_assertClass","instance","klass","Error","name","cachedDataViewMemory0","getDataViewMemory0","buffer","detached","undefined","memory","DataView","getStringFromWasm0","ptr","len","numBytesDecoded","MAX_SAFARI_DECODE_BYTES","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","getUint8ArrayMemory0","subarray","decodeText","cachedUint8ArrayMemory0","byteLength","Uint8Array","getObject","Array","fill","passStringToWasm0","arg","malloc","realloc","buf","cachedTextEncoder","encode","set","WASM_VECTOR_LEN","mem","offset","code","charCodeAt","slice","view","encodeInto","written","takeObject","ret","dropObject","TextEncoder","read","ConfigHandleFinalization","FinalizationRegistry","register","unregister","__wbg_confighandle_free","ConfigHandle","__wrap","Object","create","prototype","__wbg_ptr","__destroy_into_raw","this","free","get_state","config","retptr","__wbindgen_add_to_stack_pointer","ptr0","r0","getInt32","r1","load_config","rhai_source","__wbindgen_export","__wbindgen_export2","len0","load_krx","binary","passArray8ToWasm0","simulate","events_json","ptr1","len1","validate_config","wasm_init","Symbol","dispose","EXPECTED_RESPONSE_TYPES","Set","__wbg_get_imports","imports","wbg","__wbg_Error_52673b7de5a0ca89","arg0","arg1","__wbg_String_eecc4a11987127d6","String","setInt32","__wbg___wbindgen_throw_dd24417ed36fc46e","__wbg_error_7534b8e9a36f1ab4","deferred0_0","deferred0_1","__wbindgen_export3","__wbg_getRandomValues_1c61fac11405ffdc","f","args","globalThis","crypto","getRandomValues","apply","e","__wbindgen_export4","handleError","arguments","__wbg_new_1ba21ce319a06297","__wbg_new_25f239778d6112b9","__wbg_new_8a6f238a6ece86ea","__wbg_set_3807d5f0bfc24aa7","arg2","__wbg_set_7df433eea03a5c14","__wbg_stack_0ed75d68575b0f3c","stack","__wbindgen_cast_2241b6af4c4b2941","__wbindgen_cast_4625c577ab2ec9ee","BigInt","asUintN","__wbindgen_cast_d6cd19b81560fd6e","__wbindgen_object_clone_ref","__wbindgen_object_drop_ref","__wbg_star0","__wbg_finalize_init","module","exports","__wbg_init","__wbindgen_wasm_module","initSync","getPrototypeOf","WebAssembly","Module","Instance","async","module_or_path","URL","url","Request","fetch","Response","instantiateStreaming","ok","has","type","headers","get","bytes","arrayBuffer","instantiate","__wbg_load"],"mappings":"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"}