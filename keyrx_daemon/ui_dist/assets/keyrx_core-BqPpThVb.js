import*as t from"env";let n;function e(t){u===f.length&&f.push(f.length+1);const n=u;return u=f[n],f[n]=t,n}function r(t,n){if(!(t instanceof n))throw new Error(`expected instance of ${n.name}`)}let o=null;function _(){return(null===o||!0===o.buffer.detached||void 0===o.buffer.detached&&o.buffer!==n.memory.buffer)&&(o=new DataView(n.memory.buffer)),o}function i(t,n){return function(t,n){return l+=n,l>=w&&(b=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),b.decode(),l=n),b.decode(c().subarray(t,t+n))}(t>>>=0,n)}let a=null;function c(){return null!==a&&0!==a.byteLength||(a=new Uint8Array(n.memory.buffer)),a}function s(t){return f[t]}let f=new Array(128).fill(void 0);f.push(void 0,null,!0,!1);let u=f.length;function d(t,n,e){if(void 0===e){const e=p.encode(t),r=n(e.length,1)>>>0;return c().subarray(r,r+e.length).set(e),y=e.length,r}let r=t.length,o=n(r,1)>>>0;const _=c();let i=0;for(;i<r;i++){const n=t.charCodeAt(i);if(n>127)break;_[o+i]=n}if(i!==r){0!==i&&(t=t.slice(i)),o=e(o,r,r=i+3*t.length,1)>>>0;const n=c().subarray(o+i,o+r);i+=p.encodeInto(t,n).written,o=e(o,r,i,1)>>>0}return y=i,o}function g(t){const n=s(t);return function(t){t<132||(f[t]=u,u=t)}(t),n}let b=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});b.decode();const w=2146435072;let l=0;const p=new TextEncoder;"encodeInto"in p||(p.encodeInto=function(t,n){const e=p.encode(t);return n.set(e),{read:t.length,written:e.length}});let y=0;const h="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_confighandle_free(t>>>0,1));class m{static __wrap(t){t>>>=0;const n=Object.create(m.prototype);return n.__wbg_ptr=t,h.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,h.unregister(this),t}free(){const t=this.__destroy_into_raw();n.__wbg_confighandle_free(t,0)}}function I(t){try{const a=n.__wbindgen_add_to_stack_pointer(-16);r(t,m);var e=t.__destroy_into_raw();n.get_state(a,e);var o=_().getInt32(a+0,!0),i=_().getInt32(a+4,!0);if(_().getInt32(a+8,!0))throw g(i);return g(o)}finally{n.__wbindgen_add_to_stack_pointer(16)}}function x(t){try{const o=n.__wbindgen_add_to_stack_pointer(-16),i=d(t,n.__wbindgen_export,n.__wbindgen_export2),a=y;n.load_config(o,i,a);var e=_().getInt32(o+0,!0),r=_().getInt32(o+4,!0);if(_().getInt32(o+8,!0))throw g(r);return m.__wrap(e)}finally{n.__wbindgen_add_to_stack_pointer(16)}}function v(t){try{const o=n.__wbindgen_add_to_stack_pointer(-16),i=function(t){const e=(0,n.__wbindgen_export)(1*t.length,1)>>>0;return c().set(t,e/1),y=t.length,e}(t),a=y;n.load_krx(o,i,a);var e=_().getInt32(o+0,!0),r=_().getInt32(o+4,!0);if(_().getInt32(o+8,!0))throw g(r);return m.__wrap(e)}finally{n.__wbindgen_add_to_stack_pointer(16)}}function k(t,e){try{const c=n.__wbindgen_add_to_stack_pointer(-16);r(t,m);var o=t.__destroy_into_raw();const s=d(e,n.__wbindgen_export,n.__wbindgen_export2),f=y;n.simulate(c,o,s,f);var i=_().getInt32(c+0,!0),a=_().getInt32(c+4,!0);if(_().getInt32(c+8,!0))throw g(a);return g(i)}finally{n.__wbindgen_add_to_stack_pointer(16)}}function A(t){try{const o=n.__wbindgen_add_to_stack_pointer(-16),i=d(t,n.__wbindgen_export,n.__wbindgen_export2),a=y;n.validate_config(o,i,a);var e=_().getInt32(o+0,!0),r=_().getInt32(o+4,!0);if(_().getInt32(o+8,!0))throw g(r);return g(e)}finally{n.__wbindgen_add_to_stack_pointer(16)}}function R(){n.wasm_init()}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free);const O=new Set(["basic","cors","default"]);function j(){const r={wbg:{}};return r.wbg.__wbg_Error_52673b7de5a0ca89=function(t,n){return e(Error(i(t,n)))},r.wbg.__wbg_String_eecc4a11987127d6=function(t,e){const r=d(String(s(e)),n.__wbindgen_export,n.__wbindgen_export2),o=y;_().setInt32(t+4,o,!0),_().setInt32(t+0,r,!0)},r.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(t,n){throw new Error(i(t,n))},r.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,e){let r,o;try{r=t,o=e}finally{n.__wbindgen_export3(r,o,1)}},r.wbg.__wbg_getRandomValues_1c61fac11405ffdc=function(){return function(t,r){try{return function(t,n){var e,r;globalThis.crypto.getRandomValues((e=t,r=n,e>>>=0,c().subarray(e/1,e/1+r)))}.apply(this,r)}catch(o){n.__wbindgen_export4(e(o))}}(0,arguments)},r.wbg.__wbg_new_1ba21ce319a06297=function(){return e(new Object)},r.wbg.__wbg_new_25f239778d6112b9=function(){return e(new Array)},r.wbg.__wbg_new_8a6f238a6ece86ea=function(){return e(new Error)},r.wbg.__wbg_set_3807d5f0bfc24aa7=function(t,n,e){s(t)[g(n)]=g(e)},r.wbg.__wbg_set_7df433eea03a5c14=function(t,n,e){s(t)[n>>>0]=g(e)},r.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,e){const r=d(s(e).stack,n.__wbindgen_export,n.__wbindgen_export2),o=y;_().setInt32(t+4,o,!0),_().setInt32(t+0,r,!0)},r.wbg.__wbindgen_cast_2241b6af4c4b2941=function(t,n){return e(i(t,n))},r.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(t){return e(BigInt.asUintN(64,t))},r.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(t){return e(t)},r.wbg.__wbindgen_object_clone_ref=function(t){return e(s(t))},r.wbg.__wbindgen_object_drop_ref=function(t){g(t)},r.env=t,r}function W(t,e){return n=t.exports,E.__wbindgen_wasm_module=e,o=null,a=null,n}function S(t){if(void 0!==n)return n;void 0!==t&&Object.getPrototypeOf(t)===Object.prototype&&({module:t}=t);const e=j();return t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t)),W(new WebAssembly.Instance(t,e),t)}async function E(t){if(void 0!==n)return n;void 0!==t&&Object.getPrototypeOf(t)===Object.prototype&&({module_or_path:t}=t),void 0===t&&(t=new URL("/assets/keyrx_core_bg-BZ_oslIr.wasm",import.meta.url));const e=j();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:o}=await async function(t,n){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,n)}catch(e){if(!t.ok||!O.has(t.type)||"application/wasm"===t.headers.get("Content-Type"))throw e}const r=await t.arrayBuffer();return await WebAssembly.instantiate(r,n)}{const e=await WebAssembly.instantiate(t,n);return e instanceof WebAssembly.Instance?{instance:e,module:t}:e}}(await t,e);return W(r,o)}export{m as ConfigHandle,E as default,I as get_state,S as initSync,x as load_config,v as load_krx,k as simulate,A as validate_config,R as wasm_init};
//# sourceMappingURL=keyrx_core-BqPpThVb.js.map
