import{R as e,r as t,j as s,A as o,m as r,x as n}from"./vendor-DchKSmaM.js";import{c as a,t as l,b as c,s as d}from"./index-DNY7ggn3.js";const i=e.memo(({open:e,onClose:i,title:u,children:m,className:f=""})=>{const x=t.useRef(null),b=t.useRef(null);t.useEffect(()=>{e&&(b.current=document.activeElement)},[e]);const v=t.useCallback(t=>{"Escape"===t.key&&e&&i()},[e,i]);t.useEffect(()=>(document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)),[v]),t.useEffect(()=>{if(!e||!x.current)return;const t=x.current,s=t.querySelector("[data-modal-content]"),o=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=o[0],n=o[o.length-1];if(s){const e=s.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e?e.focus():r?.focus()}else r?.focus();const a=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===r&&(e.preventDefault(),n?.focus()):document.activeElement===n&&(e.preventDefault(),r?.focus()))};return t.addEventListener("keydown",a),()=>t.removeEventListener("keydown",a)},[e]),t.useEffect(()=>{!e&&b.current&&(b.current.focus(),b.current=null)},[e]),t.useEffect(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e]);const h=a(c,l.quick),y=a(d,l.normal),p=s.jsx(o,{mode:"wait",children:e&&s.jsxs(r.div,{...h,className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&i()},role:"presentation",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"}),s.jsxs(r.div,{...y,ref:x,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",className:`relative bg-slate-800 rounded-lg shadow-2xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-hidden ${f}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[s.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-slate-100",children:u}),s.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-100 transition-colors p-1 rounded hover:bg-slate-700","aria-label":"Close modal",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(90vh-8rem)]","data-modal-content":!0,children:m})]})]})});return n.createPortal(p,document.body)});i.displayName="Modal";export{i as M};
//# sourceMappingURL=Modal-KUDrpHjH.js.map
